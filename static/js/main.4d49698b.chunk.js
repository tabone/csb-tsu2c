(this["webpackJsonpprocedural-map-generator"]=this["webpackJsonpprocedural-map-generator"]||[]).push([[0],{19:function(e,r,n){},20:function(e,r,n){"use strict";n.r(r);var t=n(0),c=n.n(t),o=n(4),a=n.n(o),i=n(5),s=n.n(i),u=n(6);function l(e){var r=e.seed;return c.a.useMemo((function(){return Object(u.makeNoise2D)(r)}),[r])}var f=n(2),d="RAINY",v="NORMAL";function p(e){var r=e.blur,n=e.size;return c.a.useMemo((function(){return window.newGradient({blur:r,size:n})}),[r,n])}var b=n(7);function N(e){var r=c.a.useState({}),n=Object(f.a)(r,2),t=n[0],o=n[1],a=e.octaves,i=e.persistence,s=e.noise,u=e.frequency,l=c.a.useMemo((function(){return window.newFractalNoise({noise:s,octaves:a,frequency:u,persistence:i})}),[a,u,i,s]);return c.a.useCallback((function(e,r){var n="".concat(e,":").concat(r);return null==t[n]&&o(Object.assign(t,Object(b.a)({},n,l(e,r)))),t[n]}),[t,l])}var y=n(1);function m(e){var r=e.size,n=e.cloudsSeed,t=e.variantSeed,o=c.a.useRef(null),a=function(e){var r=e.size,n=e.blur,t=e.octaves,o=e.frequency,a=e.cloudsNoise,i=e.persistence,s=e.variantNoise,u=c.a.useState(0),l=Object(f.a)(u,2),b=l[0],y=l[1],m=p({size:r,blur:n});c.a.useEffect((function(){var e=window.requestAnimationFrame((function(){y(b+1)}));return function(){return window.cancelAnimationFrame(e)}}),[b]);var j=N({octaves:t,frequency:o,persistence:i,noise:a}),S=N({octaves:t,frequency:o,persistence:i,noise:s});return c.a.useCallback((function(e,r){var n=(j(b+e/1.6,r/1.6)+1)/2+(m(e,r)-1),t={type:null,cloudNoise:n,color:null,variantNoise:S(e,r)};return n>=.7&&n<.8?(t.color="#fff",t.type=v):n>=.8&&n<1&&(t.color="#ccc",t.type=d),t}),[b,j,S,m])}({size:r,blur:50,octaves:20,frequency:.01,persistence:.6,cloudsNoise:l({seed:n}),variantNoise:l({seed:t})});return c.a.useEffect((function(){for(var e=o.current.getContext("2d"),n=0;n<r;n++)for(var t=0;t<r;t++){var c=a(t,n);null!=c.color&&(e.fillStyle="#000000",e.fillRect(t+10,n+10,1,1),e.fillStyle=c.color,e.fillRect(t,n,1,1))}return function(){return e.clearRect(0,0,r,r)}}),[r,a]),Object(y.jsx)("div",{className:"AppWorldLayer AppWorldClouds",children:Object(y.jsx)("canvas",{width:r,height:r,ref:o})})}function j(e){var r=e.size,n=e.getInfo,t=c.a.useRef(null);return c.a.useEffect((function(){for(var e=t.current.getContext("2d"),c=0;c<r;c++)for(var o=0;o<r;o++)e.fillStyle=n(o,c).color,e.fillRect(o,c,1,1);return function(){return e.clearRect(0,0,r,r)}}),[r,n]),Object(y.jsx)("div",{className:"AppWorldLayer AppWorldTerrain",children:Object(y.jsx)("canvas",{width:r,height:r,ref:t})})}var S=c.a.memo(j),O="OCEAN",A="SEA",h="DRY_SAND",x="SAND",g="WET_SAND",w="DRY_GRASS",R="GRASS",z="WET_GRASS",q="MOUNTAIN_SNOW",E="MOUNTAIN_ORE",M="MOUNTAIN";function W(e){var r=s()("".concat(Math.random())),n=e.size,t=e.clouds,o=void 0===t||t,a=e.cloudsSeed,i=void 0===a?r.integer({min:1e3,max:9999}):a,u=e.terrainSeed,f=void 0===u?r.integer({min:1e3,max:9999}):u,d=e.cloudsVariantSeed,v=void 0===d?r.integer({min:1e3,max:9999}):d,b=e.terrainVariantSeed,j=void 0===b?r.integer({min:1e3,max:9999}):b,W=function(e){var r=e.size,n=e.blur,t=e.octaves,o=e.frequency,a=e.persistence,i=e.terrainNoise,s=e.variantNoise,u=p({size:r,blur:n}),l=N({octaves:t,frequency:o,persistence:a,noise:i}),f=N({octaves:t,frequency:o,persistence:a,noise:s}),d=c.a.useCallback((function(e,r){var n=(l(e,r)+1)/2+(u(e,r)-1),t={x:e,y:r,type:null,color:null,variantNoise:null,terrainNoise:n};if(n<.2)t.color="#003eb2",t.type=O;else if(n<.4)t.color="#0952c6",t.type=A;else if(n<.45){var c=f(e,r);t.variantNoise=c,c<-.2?(t.color="#867645",t.type=g):c<.2?(t.color="#a49463",t.type=x):(t.color="#c2b281",t.type=h)}else if(n<.6){var o=f(e,r);t.variantNoise=o,o<-.2?(t.color="#284d00",t.type=w):o<.2?(t.color="#3c6114",t.type=R):(t.color="#5a7f32",t.type=z)}else{var a=f(e,r);t.variantNoise=a,a<-.2?(t.color="#ebebeb",t.type=q):a<.2?(t.color="#8c8e7b",t.type=E):(t.color="#a0a28f",t.type=M)}return t}),[l,f,u]);return d}({size:n,blur:100,octaves:20,frequency:.00625,persistence:.6,terrainNoise:l({seed:f}),variantNoise:l({seed:j})});return Object(y.jsxs)("div",{className:"AppWorld",style:{width:n,height:n},children:[Object(y.jsx)(S,{size:n,getInfo:W}),!0===o&&Object(y.jsx)(m,{size:n,cloudsSeed:i,variantSeed:v})]})}var C=c.a.memo(W);n(19);function I(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(C,{size:700,clouds:!1})})}var k=document.getElementById("root");a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(I,{})}),k)}},[[20,1,2]]]);
//# sourceMappingURL=main.4d49698b.chunk.js.map